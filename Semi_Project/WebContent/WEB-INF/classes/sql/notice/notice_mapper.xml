<?xml version="1.0" encoding="UTF-8" standalone="no"?>
<!DOCTYPE properties SYSTEM "http://java.sun.com/dtd/properties.dtd">
<properties>
	
	<entry key="selectListCount">
		SELECT
		       COUNT(*)
		  FROM 
		       INQUIRY
		 WHERE 
		       DELETE_YN = 'N'
           AND 
               WRITER = ?
	</entry>
	
	<entry key="selectNoticeListCount">
		SELECT
		       COUNT(*)
		  FROM 
		       NOTICE
		 WHERE 
		       DELETE_YN = 'N'
	</entry>
	
	<entry key="selectInquiryList">
	SELECT *
	  FROM (
	        SELECT ROWNUM RNUM, Z.*
	  FROM (
	        SELECT 
	               INQUIRY_NO,
	               I.TITLE,
	               I.CONTENT,
	               MEM_NAME,
	               I.WRITE_DATE,
                   A.ANSWER
	         FROM 
	               INQUIRY I
	         JOIN 
	               MEMBER ON(WRITER=MEM_NO)
             LEFT
             JOIN INQUIRY_ANSWER A USING(INQUIRY_NO)
	         WHERE
	               I.DELETE_YN = 'N'
	           AND 
                   WRITER = ?
	         ORDER
	            BY 
	               I.WRITE_DATE DESC) Z )
	 WHERE RNUM BETWEEN ? AND ?
	 
	</entry>
	
	<entry key="selectListCountAdmin">
		SELECT
		       COUNT(*)
		  FROM 
		       INQUIRY
		 WHERE 
		       DELETE_YN = 'N'
		       
	</entry>
	
	<entry key="selectInquiryListAdmin">
	SELECT *
	  FROM (
	        SELECT ROWNUM RNUM, Z.*
	  FROM (
	        SELECT 
	               INQUIRY_NO,
	               I.TITLE,
	               I.CONTENT,
	               MEM_NAME,
	               I.WRITE_DATE,
                   A.ANSWER
	         FROM 
	               INQUIRY I
	         JOIN 
	               MEMBER ON(WRITER=MEM_NO)
             LEFT
             JOIN INQUIRY_ANSWER A USING(INQUIRY_NO)
	         WHERE
	               I.DELETE_YN = 'N'
	         ORDER
	            BY 
	               I.WRITE_DATE DESC) Z )
	 WHERE RNUM BETWEEN ? AND ?
	 
	</entry>


	
	<entry key="selectInquiryCategoryList">
		SELECT 
			   CS_CATEGORY_NO,
			   CS_CATEGORY_NAME
	      FROM 
	           CS_CATEGORY
	
	</entry>
	
	<entry key="insertInquiry">
	INSERT
	  INTO 
	       INQUIRY
	       (
	       INQUIRY_NO,
	       TITLE,
	       CONTENT,
	       ANSWER_NOTICE,
	       CS_CATEGORY_NO,
	       WRITER
	       )
	VALUES 
	       (
	       SEQ_INQUIRY_NO.NEXTVAL,
	       ?,
	       ?,
	       ?,
	       ?,
	       ?
	       )
	
	</entry>
	
	<entry key="insertInquiryAttachment">
	INSERT
		  INTO
		       ATTACHMENT
		       (
		       FILE_NO,
		       REF_ANO,
		       REF_BNO,
		       ORIGIN_NAME,
		       CHANGE_NAME,
		       FILE_PATH
		       )
		VALUES 
		       (
		       SEQ_FILE_NO.NEXTVAL,
		       7,
		       SEQ_INQUIRY_NO.CURRVAL,
		       ?,
		       ?,
		       ?
		       )
	
	</entry>
	
	<entry key="selectInquiry">
	SELECT 
		   INQUIRY_NO,
	       CS_CATEGORY_NAME,
	       I.ANSWER_NOTICE,
	       I.TITLE,
	       M.MEM_NAME,
	       I.WRITE_DATE,
	       I.CONTENT,
           A.ANSWER
	  FROM 
	       INQUIRY I
	  LEFT
	  JOIN 
	       CS_CATEGORY USING(CS_CATEGORY_NO)
	  JOIN
	       MEMBER M ON(WRITER = MEM_NO)
	  LEFT
      JOIN
           INQUIRY_ANSWER A USING(INQUIRY_NO) 
	 WHERE 
	       INQUIRY_NO = ?
	   AND 
	       I.DELETE_YN = 'N'
	</entry>
	
	<entry key="selectInquiryAttachment">
		SELECT
			   FILE_NO,
			   ORIGIN_NAME,
			   CHANGE_NAME,
			   FILE_PATH
		  FROM 
		       ATTACHMENT
		 WHERE 
		       REF_BNO = ?
	
	</entry>
	
	<entry key="updateInquiry">
		UPDATE
		       INQUIRY
		   SET
		       CS_CATEGORY_NO = ?,
		       ANSWER_NOTICE = ?,
		       TITLE = ?,
		       CONTENT = ?,
		       WRITE_DATE = SYSDATE
		 WHERE 
		       INQUIRY_NO = ?
	
	</entry>
	
	<entry key="updateInquiryAttachment">
		UPDATE
			   ATTACHMENT
		   SET 
		       ORIGIN_NAME = ?,
		       CHANGE_NAME = ?,
		       FILE_PATH = ?
		 WHERE 
		       FILE_NO = ?
		
	</entry>
		
	
	<entry key="insertNewAttachment">
		INSERT
			  INTO
			  	   ATTACHMENT
			  	   (
			  	   FILE_NO,
			  	   REF_ANO,
			  	   REF_BNO,
			  	   ORIGIN_NAME,
			  	   CHANGE_NAME,
			  	   FILE_PATH
			  	   )
			VALUES 
			 	   (
			 	   SEQ_FILE_NO.NEXTVAL,
			 	   7,
			 	   ?,
			 	   ?,
			 	   ?,
			 	   ?
			 	   )
	
	</entry>
	
	<entry key="deleteInquiry">
		UPDATE
			   INQUIRY
		   SET
		       DELETE_YN = 'Y'
		 WHERE
		       INQUIRY_NO = ?
		       	 
	
	</entry>
	
	<entry key="insertInquiryAnswer">
		INSERT 
		  INTO 
		       INQUIRY_ANSWER
		       (
		       ANSWER,
		       WRITE_DATE,
		       INQUIRY_NO,
		       COUNT      
		       )
		VALUES
		       (
		       ?,
		       SYSDATE,
		       ?,
		       1
		       )
	
	</entry>
	
	<entry key="selectFaqAllList">
		SELECT 
		       FAQ_NO,
		       TITLE,
		       CONTENT,
		       CS_CATEGORY_NAME
		  FROM 
		       FAQ
		  JOIN 
		       CS_CATEGORY USING(CS_CATEGORY_NO)
		 WHERE 
		       DELETE_YN = 'N'
	</entry>
	
	<entry key="selectFaqListCategory">
		SELECT 
		       FAQ_NO,
		       TITLE,
		       CONTENT,
		       CS_CATEGORY_NAME
		  FROM 
		       FAQ
		  JOIN 
		       CS_CATEGORY USING(CS_CATEGORY_NO)
		 WHERE 
		       DELETE_YN = 'N'
		   AND 
      	       CS_CATEGORY_NAME = ?
      	 ORDER 
   			BY 
       	       FAQ_NO ASC
	</entry>
	
	
	<entry key="selectFaqSearchList">
	SELECT 
	      FAQ_NO,
	      TITLE,
	      CONTENT,
	      CS_CATEGORY_NAME
	  FROM 
	       FAQ
	  JOIN 
	       CS_CATEGORY USING(CS_CATEGORY_NO)
	 WHERE 
	       DELETE_YN = 'N'
	   AND 
	       CONTENT LIKE ?
	    OR 
	       TITLE LIKE ?
	 ORDER 
	    BY 
	       FAQ_NO ASC
	
	</entry>
	
	<entry key="selectNoticeList">

	SELECT * 
	  FROM (SELECT
	               ROWNUM RNUM,
	               A.*
	          FROM (SELECT 
					       NOTICE_NO,
					       TITLE,
					       CONTENT,
					       WRITE_DATE,
				           COUNT,
					       CS_CATEGORY_NAME
					  FROM 
					       NOTICE
					  JOIN 
					       CS_CATEGORY USING(CS_CATEGORY_NO)
					 WHERE 
					       DELETE_YN = 'N'
				     ORDER
				        BY
				           WRITE_DATE DESC) A )
 	  WHERE RNUM BETWEEN ? AND ?
	</entry>
	
	<entry key="selectNoticeCategory">
	SELECT
	       CS_CATEGORY_NO,
	       CS_CATEGORY_NAME
	  FROM
	       CS_CATEGORY
	</entry>
	
	<entry key="insertNotice">
	INSERT 
	  INTO
	       NOTICE
	       (
	       NOTICE_NO, 
	       TITLE, 
	       CONTENT, 
	       CS_CATEGORY_NO
	       )
	VALUES 
	       (
	       SEQ_NOTICE_NO.NEXTVAL, 
	       ?, 
	       ?, 
	       ?
	       )
	</entry>
	
	<entry key="increaseCount">
	UPDATE
		   NOTICE
	   SET
	       COUNT = COUNT +  1
	 WHERE 
	       NOTICE_NO = ?
	   AND 
	       DELETE_YN = 'N'
	
	</entry>
	
	<entry key="selectNotice">
	SELECT
		   NOTICE_NO,
	       CS_CATEGORY_NAME,
	       TITLE,
	       WRITE_DATE,
	       CONTENT
	  FROM 
	       NOTICE
	  JOIN
	       CS_CATEGORY USING(CS_CATEGORY_NO)
	 WHERE 
	       NOTICE_NO = ?
	</entry>
	
	<entry key="updateNotice">
		UPDATE
		       NOTICE
		   SET 
		       TITLE = ?,
		       CONTENT = ?,
		       CS_CATEGORY_NO = ?
		 WHERE 
		       NOTICE_NO = ?
		   AND
		       DELETE_YN = 'N'	
	</entry>
	
	<entry key="deleteNotice">
		UPDATE 
		       NOTICE
		   SET
		       DELETE_YN = 'Y'
		 WHERE 
		       NOTICE_NO = ?
	
	</entry>
	
	<entry key="selectFaqCategory">
	SELECT
	       CS_CATEGORY_NO,
	       CS_CATEGORY_NAME
	  FROM
	       CS_CATEGORY
	</entry>
	
	<entry key="insertFaq">
	INSERT 
	  INTO
	       FAQ
	       (
	       FAQ_NO, 
	       TITLE, 
	       CONTENT, 
	       CS_CATEGORY_NO
	       )
	VALUES 
	       (
	       SEQ_FAQ_NO.NEXTVAL, 
	       ?, 
	       ?, 
	       ?
	       )
	</entry>
	
	<entry key="selectFaq">
	SELECT
		   FAQ_NO,
	       CS_CATEGORY_NAME,
	       TITLE,
	       CONTENT
	  FROM 
	       FAQ
	  JOIN
	       CS_CATEGORY USING(CS_CATEGORY_NO)
	 WHERE 
	       FAQ_NO = ?
	</entry>
	
	<entry key="updateFaq">
		UPDATE
		       FAQ
		   SET 
		       TITLE = ?,
		       CONTENT = ?,
		       CS_CATEGORY_NO = ?
		 WHERE 
		       FAQ_NO = ?
		   AND
		       DELETE_YN = 'N'	
	</entry>
	
	<entry key="deleteFaq">
		UPDATE 
		       FAQ
		   SET
		       DELETE_YN = 'Y'
		 WHERE 
		       FAQ_NO = ?
	
	</entry>
	
	<entry key="insertVoc">
	INSERT
	  INTO 
	      VOC
	      (
	      VOC_NO,
	      CONTENT,
	      VOC_ID,
	      VOC_CATEGORY,
	      WRITER,
	      TITLE
	      )
	VALUES
	      (
	      SEQ_VOC_NO.NEXTVAL,
	      ?,
	      ?,
	      ?,
	      ?,
	      ?
	      )
	
	</entry>
	
	<entry key="selectListVoc">
	SELECT
	       VOC_NO,
	       VOC_CATEGORY,
	       TITLE,
	       VOC_ID,
	       MEM_ID,
	       CONTENT,
	       DELETE_YN
	  FROM
	       VOC
	  JOIN 
	       MEMBER ON(MEM_NO = WRITER)
	 WHERE
	       DELETE_YN = 'N'
	 ORDER 
	    BY 
	       VOC_NO DESC
	
	</entry>
	
	<entry key="deleteVoc">
	UPDATE
	       VOC
	   SET
	       DELETE_YN = 'Y'
	 WHERE
	       VOC_NO = ?
	</entry>
	
	<entry key="selectCategory">
	SELECT
	       VOC_NO,
	       VOC_CATEGORY,
	       TITLE,
	       VOC_ID,
	       MEM_ID,
	       CONTENT,
	       DELETE_YN
	  FROM
	       VOC
	  JOIN 
	       MEMBER ON(MEM_NO = WRITER)
	 WHERE
	       DELETE_YN = 'N'
	   AND
	       VOC_CATEGORY = ?
	
	</entry>
	
	
</properties>